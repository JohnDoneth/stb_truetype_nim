<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>stb_truetype</title>
<link rel="stylesheet" type="text/css" href="nimdoc.out.css">

<script type="text/javascript" src="dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }

  const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
  function switchTheme(e) {
      if (e.target.checked) {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
      } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
      }
  }

  toggleSwitch.addEventListener('change', switchTheme, false);

  const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;
  if (currentTheme) {
    document.documentElement.setAttribute('data-theme', currentTheme);

    if (currentTheme === 'dark') {
      toggleSwitch.checked = true;
    }
  }
}
</script>

</head>
<body onload="main()">
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">stb_truetype</h1>
    <div class="row">
  <div class="three columns">
  <div class="theme-switch-wrapper">
    <label class="theme-switch" for="checkbox">
      <input type="checkbox" id="checkbox" />
      <div class="slider round"></div>
    </label>
    &nbsp;&nbsp;&nbsp; <em>Dark Mode</em>
  </div>
  <div id="global-links">
    <ul class="simple">
    <li>
      <a href="theindex.html">Index</a>
    </li>
    </ul>
  </div>
  <div id="searchInputDiv">
    Search: <input type="text" id="searchInput"
      onkeyup="search()" />
  </div>
  <div>
    Group by:
    <select onchange="groupBy(this.value)">
      <option value="section">Section</option>
      <option value="type">Type</option>
    </select>
  </div>
  <ul class="simple simple-toc" id="toc-list">
<li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
  <ul class="simple simple-toc-section">
    
  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#7" id="57">Types</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#Font"
    title="Font = object
  raw: stbtt_fontinfo">Font</a></li>
  <li><a class="reference" href="#SDF"
    title="SDF = ref object
  raw: ptr cuchar
  width*, height*, xoff*, yoff*: int">SDF</a></li>
  <li><a class="reference" href="#VMetrics"
    title="VMetrics = object
  ascent*: int
  descent*: int
  lineGap*: int">VMetrics</a></li>
  <li><a class="reference" href="#HMetrics"
    title="HMetrics = object
  advanceWidth*: int
  leftSideBearing*: int">HMetrics</a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#12" id="62">Procs</a>
  <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">findGlyphIndex
      <li><a class="reference" href="#findGlyphIndex%2CFont%2Cint"
    title="findGlyphIndex(font: Font; unicode_codepoint: int): int">findGlyphIndex,<wbr>Font,<wbr>int</a></li>

  </ul>
  <ul class="simple nested-toc-section">scaleForPixelHeight
      <li><a class="reference" href="#scaleForPixelHeight%2CFont%2Cfloat"
    title="scaleForPixelHeight(font: Font; pixels: float): float">scaleForPixelHeight,<wbr>Font,<wbr>float</a></li>

  </ul>
  <ul class="simple nested-toc-section">isGlyphEmpty
      <li><a class="reference" href="#isGlyphEmpty%2CFont%2Cint"
    title="isGlyphEmpty(font: Font; glyph: int): bool">isGlyphEmpty,<wbr>Font,<wbr>int</a></li>

  </ul>
  <ul class="simple nested-toc-section">getFontVMetrics
      <li><a class="reference" href="#getFontVMetrics%2CFont"
    title="getFontVMetrics(font: Font): VMetrics">getFontVMetrics,<wbr>Font</a></li>

  </ul>
  <ul class="simple nested-toc-section">getFontOffsetForIndex
      <li><a class="reference" href="#getFontOffsetForIndex%2CopenArray%5Bcuchar%5D%2Cint"
    title="getFontOffsetForIndex(data: openArray[cuchar]; index: int): int">getFontOffsetForIndex,<wbr>openArray[cuchar],<wbr>int</a></li>

  </ul>
  <ul class="simple nested-toc-section">getGlyphSDF
      <li><a class="reference" href="#getGlyphSDF%2CFont%2Cfloat%2Cint%2Cint%2Cuint8%2Cfloat"
    title="getGlyphSDF(font: Font; scale: float; glyph_index: int; padding: int;
            onedge_value: uint8; pixel_dist_scale: float): Option[SDF]">getGlyphSDF,<wbr>Font,<wbr>float,<wbr>int,<wbr>int,<wbr>uint8,<wbr>float</a></li>

  </ul>
  <ul class="simple nested-toc-section">getNumberOfFonts
      <li><a class="reference" href="#getNumberOfFonts%2CopenArray%5Bcuchar%5D"
    title="getNumberOfFonts(data: openArray[cuchar]): int">getNumberOfFonts,<wbr>openArray[cuchar]</a></li>

  </ul>
  <ul class="simple nested-toc-section">getGlyphHMetrics
      <li><a class="reference" href="#getGlyphHMetrics%2CFont%2Cint"
    title="getGlyphHMetrics(font: Font; glyph: int): HMetrics">getGlyphHMetrics,<wbr>Font,<wbr>int</a></li>

  </ul>
  <ul class="simple nested-toc-section">getGlyphKernAdvance
      <li><a class="reference" href="#getGlyphKernAdvance%2CFont%2Cint%2Cint"
    title="getGlyphKernAdvance(font: Font; glyph1: int; glyph2: int): int">getGlyphKernAdvance,<wbr>Font,<wbr>int,<wbr>int</a></li>

  </ul>
  <ul class="simple nested-toc-section">getCodepointSDF
      <li><a class="reference" href="#getCodepointSDF%2CFont%2Cfloat%2Cint%2Cint%2Cuint8%2Cfloat"
    title="getCodepointSDF(font: Font; scale: float; codepoint: int; padding: int;
                onedge_value: uint8; pixel_dist_scale: float): Option[SDF]">getCodepointSDF,<wbr>Font,<wbr>float,<wbr>int,<wbr>int,<wbr>uint8,<wbr>float</a></li>

  </ul>
  <ul class="simple nested-toc-section">initFont
      <li><a class="reference" href="#initFont%2CopenArray%5Bcuchar%5D"
    title="initFont(data: openArray[cuchar]): Option[Font]">initFont,<wbr>openArray[cuchar]</a></li>

  </ul>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#15" id="65">Iterators</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#pixels.i%2CSDF"
    title="pixels(sdf: SDF): uint8">pixels</a></li>

  </ul>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  
  <p class="module-desc"></p>
  <div class="section" id="6">
<h1><a class="toc-backref" href="#6">Imports</a></h1>
<dl class="item">
<a class="reference external" href="stb_truetype/wrapper.html">stb_truetype/wrapper</a>
</dl></div>
<div class="section" id="7">
<h1><a class="toc-backref" href="#7">Types</a></h1>
<dl class="item">
<a id="Font"></a>
<dt><pre><a href="stb_truetype.html#Font"><span class="Identifier">Font</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">raw</span><span class="Other">:</span> <a href="stb_truetype/wrapper.html#stbtt_fontinfo"><span class="Identifier">stbtt_fontinfo</span></a>
</pre></dt>
<dd>

Represents loaded TrueType font data.

</dd>
<a id="SDF"></a>
<dt><pre><a href="stb_truetype.html#SDF"><span class="Identifier">SDF</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span>
  <span class="Identifier">raw</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">cuchar</span>
  <span class="Identifier">width</span><span class="Operator">*</span><span class="Other">,</span> <span class="Identifier">height</span><span class="Operator">*</span><span class="Other">,</span> <span class="Identifier">xoff</span><span class="Operator">*</span><span class="Other">,</span> <span class="Identifier">yoff</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int</span>
</pre></dt>
<dd>

<p>Signed Distance Field data.</p>
<p>This is a wrapper around the SDF data returned from SDF functions that automatically frees the SDF when it goes out of scope.</p>


</dd>
<a id="VMetrics"></a>
<dt><pre><a href="stb_truetype.html#VMetrics"><span class="Identifier">VMetrics</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">ascent</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int</span>
  <span class="Identifier">descent</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int</span>
  <span class="Identifier">lineGap</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int</span>
</pre></dt>
<dd>

ascent is the coordinate above the baseline the font extends; descent is the coordinate below the baseline the font extends (i.e. it is typically negative) lineGap is the spacing between one row's descent and the next row's ascent...<dl class="docutils"><dt>so you should advance the vertical position by &quot;ascent - descent + lineGap&quot;</dt>
<dd>these are expressed in unscaled coordinates, so you must multiply by the scale factor for a given size</dd>
</dl>


</dd>
<a id="HMetrics"></a>
<dt><pre><a href="stb_truetype.html#HMetrics"><span class="Identifier">HMetrics</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">advanceWidth</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int</span>
  <span class="Identifier">leftSideBearing</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int</span>
</pre></dt>
<dd>

leftSideBearing is the offset from the current horizontal position to the left edge of the character<dl class="docutils"><dt>advanceWidth is the offset from the current horizontal position to the next horizontal position</dt>
<dd>these are expressed in unscaled coordinates</dd>
</dl>


</dd>

</dl></div>
<div class="section" id="12">
<h1><a class="toc-backref" href="#12">Procs</a></h1>
<dl class="item">
<a id="initFont,openArray[cuchar]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#initFont%2CopenArray%5Bcuchar%5D"><span class="Identifier">initFont</span></a><span class="Other">(</span><span class="Identifier">data</span><span class="Other">:</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">cuchar</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Option</span><span class="Other">[</span><a href="stb_truetype.html#Font"><span class="Identifier">Font</span></a><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Loads a font from bytes containing TTF font data.<ul class="simple"><li>Returns <tt class="docutils literal"><span class="pre">Some(Font)</span></tt> if the font was loaded successfully.</li>
<li>Returns <tt class="docutils literal"><span class="pre">None</span></tt> if the font could not be loaded.</li>
</ul>


</dd>
<a id="getNumberOfFonts,openArray[cuchar]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getNumberOfFonts%2CopenArray%5Bcuchar%5D"><span class="Identifier">getNumberOfFonts</span></a><span class="Other">(</span><span class="Identifier">data</span><span class="Other">:</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">cuchar</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

This function will determine the number of fonts in a font file.  TrueType collection (.ttc) files may contain multiple fonts, while TrueType font (.ttf) files only contain one font. The number of fonts can be used for indexing with the previous function where the index is between zero and one less than the total fonts. If an error occurs, -1 is returned.

</dd>
<a id="getFontOffsetForIndex,openArray[cuchar],int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getFontOffsetForIndex%2CopenArray%5Bcuchar%5D%2Cint"><span class="Identifier">getFontOffsetForIndex</span></a><span class="Other">(</span><span class="Identifier">data</span><span class="Other">:</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">cuchar</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">index</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Each .ttf/.ttc file may have more than one font. Each font has a sequential index number starting from 0. Call this function to get the font offset for a given index; it returns -1 if the index is out of range. A regular .ttf file will only define one font and it always be at offset 0, so it will return '0' for index 0, and -1 for all other indices. The following structure is defined publicly so you can declare one on the stack or as a global or etc, but you should treat it as opaque.

</dd>
<a id="getFontVMetrics,Font"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getFontVMetrics%2CFont"><span class="Identifier">getFontVMetrics</span></a><span class="Other">(</span><span class="Identifier">font</span><span class="Other">:</span> <a href="stb_truetype.html#Font"><span class="Identifier">Font</span></a><span class="Other">)</span><span class="Other">:</span> <a href="stb_truetype.html#VMetrics"><span class="Identifier">VMetrics</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

ascent is the coordinate above the baseline the font extends; descent is the coordinate below the baseline the font extends (i.e. it is typically negative) lineGap is the spacing between one row's descent and the next row's ascent...<dl class="docutils"><dt>so you should advance the vertical position by &quot;ascent - descent + lineGap&quot;</dt>
<dd>these are expressed in unscaled coordinates, so you must multiply by the scale factor for a given size</dd>
</dl>


</dd>
<a id="getGlyphKernAdvance,Font,int,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getGlyphKernAdvance%2CFont%2Cint%2Cint"><span class="Identifier">getGlyphKernAdvance</span></a><span class="Other">(</span><span class="Identifier">font</span><span class="Other">:</span> <a href="stb_truetype.html#Font"><span class="Identifier">Font</span></a><span class="Other">;</span> <span class="Identifier">glyph1</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">;</span> <span class="Identifier">glyph2</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

An additional amount to add to the 'advance' value between ch1 and ch2

</dd>
<a id="getGlyphHMetrics,Font,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getGlyphHMetrics%2CFont%2Cint"><span class="Identifier">getGlyphHMetrics</span></a><span class="Other">(</span><span class="Identifier">font</span><span class="Other">:</span> <a href="stb_truetype.html#Font"><span class="Identifier">Font</span></a><span class="Other">;</span> <span class="Identifier">glyph</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <a href="stb_truetype.html#HMetrics"><span class="Identifier">HMetrics</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

leftSideBearing is the offset from the current horizontal position to the left edge of the character<dl class="docutils"><dt>advanceWidth is the offset from the current horizontal position to the next horizontal position</dt>
<dd>these are expressed in unscaled coordinates</dd>
</dl>


</dd>
<a id="isGlyphEmpty,Font,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#isGlyphEmpty%2CFont%2Cint"><span class="Identifier">isGlyphEmpty</span></a><span class="Other">(</span><span class="Identifier">font</span><span class="Other">:</span> <a href="stb_truetype.html#Font"><span class="Identifier">Font</span></a><span class="Other">;</span> <span class="Identifier">glyph</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Returns false if nothing is drawn for this glyph.

</dd>
<a id="getGlyphSDF,Font,float,int,int,uint8,float"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getGlyphSDF%2CFont%2Cfloat%2Cint%2Cint%2Cuint8%2Cfloat"><span class="Identifier">getGlyphSDF</span></a><span class="Other">(</span><span class="Identifier">font</span><span class="Other">:</span> <a href="stb_truetype.html#Font"><span class="Identifier">Font</span></a><span class="Other">;</span> <span class="Identifier">scale</span><span class="Other">:</span> <span class="Identifier">float</span><span class="Other">;</span> <span class="Identifier">glyph_index</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">;</span> <span class="Identifier">padding</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">;</span>
                 <span class="Identifier">onedge_value</span><span class="Other">:</span> <span class="Identifier">uint8</span><span class="Other">;</span> <span class="Identifier">pixel_dist_scale</span><span class="Other">:</span> <span class="Identifier">float</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Option</span><span class="Other">[</span><a href="stb_truetype.html#SDF"><span class="Identifier">SDF</span></a><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>



</dd>
<a id="getCodepointSDF,Font,float,int,int,uint8,float"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getCodepointSDF%2CFont%2Cfloat%2Cint%2Cint%2Cuint8%2Cfloat"><span class="Identifier">getCodepointSDF</span></a><span class="Other">(</span><span class="Identifier">font</span><span class="Other">:</span> <a href="stb_truetype.html#Font"><span class="Identifier">Font</span></a><span class="Other">;</span> <span class="Identifier">scale</span><span class="Other">:</span> <span class="Identifier">float</span><span class="Other">;</span> <span class="Identifier">codepoint</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">;</span> <span class="Identifier">padding</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">;</span>
                     <span class="Identifier">onedge_value</span><span class="Other">:</span> <span class="Identifier">uint8</span><span class="Other">;</span> <span class="Identifier">pixel_dist_scale</span><span class="Other">:</span> <span class="Identifier">float</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Option</span><span class="Other">[</span><a href="stb_truetype.html#SDF"><span class="Identifier">SDF</span></a><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

These functions compute a discretized SDF field for a single character, suitable for storing in a single-channel texture, sampling with bilinear filtering, and testing against<dl class="docutils"><dt>larger than some threshold to produce scalable fonts.</dt>
<dd>info              --  the font scale             --  controls the size of the resulting SDF bitmap, same as it would be creating a regular bitmap glyph/codepoint   --  the character to generate the SDF for<dl class="docutils"><dt>padding           --  extra &quot;pixels&quot; around the character which are filled with the distance to the character (not 0),</dt>
<dd>which allows effects like bit outlines</dd>
</dl>
<p>onedge_value      --  value 0-255 to test the SDF against to reconstruct the character (i.e. the isocontour of the character)</p>
<dl class="docutils"><dt>pixel_dist_scale  --  what value the SDF should increase by when moving one SDF &quot;pixel&quot; away from the edge (on the 0..255 scale)</dt>
<dd>if positive, &gt; onedge_value is inside; if negative, &lt; onedge_value is inside</dd>
</dl>
<p>width,height      --  output height &amp; width of the SDF bitmap (including padding) xoff,yoff         --  output origin of the character return value      --  a 2D array of bytes 0..255, width*height in size</p>
</dd>
</dl>
<p>pixel_dist_scale &amp; onedge_value are a scale &amp; bias that allows you to make optimal use of the limited 0..255 for your application, trading off precision and special effects. SDF values outside the range 0..255 are clamped to 0..255.</p>
<dl class="docutils"><dt>Example:</dt>
<dd><p>scale = stbtt_ScaleForPixelHeight(22) padding = 5 onedge_value = 180 pixel_dist_scale = 180/5.0 = 36.0</p>
<p>This will create an SDF bitmap in which the character is about 22 pixels high but the whole bitmap is about 22+5+5=32 pixels high. To produce a filled shape, sample the SDF at each pixel and fill the pixel if the SDF value is greater than or equal to 180/255. (You'll actually want to antialias, which is beyond the scope of this example.) Additionally, you can compute offset outlines (e.g. to stroke the character border inside &amp; outside, or only outside). For example, to fill outside the character up to 3 SDF pixels, you would compare against (180-36.0*3)/255 = 72/255. The above choice of variables maps a range from 5 pixels outside the shape to 2 pixels inside the shape to 0..255; this is intended primarily for apply outside effects only (the interior range is needed to allow proper antialiasing of the font at smaller sizes)</p>
</dd>
</dl>
<p>The function computes the SDF analytically at each SDF pixel, not by e.g. building a higher-res bitmap and approximating it. In theory the quality should be as high as possible for an SDF of this size &amp; representation, but unclear if this is true in practice (perhaps building a higher-res bitmap and computing from that can allow drop-out prevention).</p>
<p>The algorithm has not been optimized at all, so expect it to be slow if computing lots of characters or very large sizes.</p>


</dd>
<a id="scaleForPixelHeight,Font,float"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#scaleForPixelHeight%2CFont%2Cfloat"><span class="Identifier">scaleForPixelHeight</span></a><span class="Other">(</span><span class="Identifier">font</span><span class="Other">:</span> <a href="stb_truetype.html#Font"><span class="Identifier">Font</span></a><span class="Other">;</span> <span class="Identifier">pixels</span><span class="Other">:</span> <span class="Identifier">float</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">float</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

computes a scale factor to produce a font whose &quot;height&quot; is 'pixels' tall. Height is measured as the distance from the highest ascender to the lowest descender; in other words, it's equivalent to calling stbtt_GetFontVMetrics<dl class="docutils"><dt>and computing:</dt>
<dd>scale = pixels / (ascent - descent)</dd>
</dl>
<p>so if you prefer to measure height by the ascent only, use a similar calculation.</p>


</dd>
<a id="findGlyphIndex,Font,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#findGlyphIndex%2CFont%2Cint"><span class="Identifier">findGlyphIndex</span></a><span class="Other">(</span><span class="Identifier">font</span><span class="Other">:</span> <a href="stb_truetype.html#Font"><span class="Identifier">Font</span></a><span class="Other">;</span> <span class="Identifier">unicode_codepoint</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

If you're going to perform multiple operations on the same character and you want a speed-up, call this function with the character you're going to process, then use glyph-based functions instead of the codepoint-based functions. Returns 0 if the character codepoint is not defined in the font.

</dd>

</dl></div>
<div class="section" id="15">
<h1><a class="toc-backref" href="#15">Iterators</a></h1>
<dl class="item">
<a id="pixels.i,SDF"></a>
<dt><pre><span class="Keyword">iterator</span> <a href="#pixels.i%2CSDF"><span class="Identifier">pixels</span></a><span class="Other">(</span><span class="Identifier">sdf</span><span class="Other">:</span> <a href="stb_truetype.html#SDF"><span class="Identifier">SDF</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">uint8</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Safe iterator over the pixel data in the SDF buffer.

</dd>

</dl></div>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small style="color: var(--hint);">Made with Nim. Generated: 2021-09-05 20:12:07 UTC</small>
      </div>
    </div>
  </div>
</div>

</body>
</html>
